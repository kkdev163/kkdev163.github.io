"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8761],{3905:(t,e,a)=>{a.d(e,{Zo:()=>o,kt:()=>s});var n=a(7294);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,l=function(t,e){if(null==t)return{};var a,n,l={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(l[a]=t[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}var m=n.createContext({}),u=function(t){var e=n.useContext(m),a=e;return t&&(a="function"==typeof t?t(e):p(p({},e),t)),a},o=function(t){var e=u(t.components);return n.createElement(m.Provider,{value:e},t.children)},k="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},N=n.forwardRef((function(t,e){var a=t.components,l=t.mdxType,r=t.originalType,m=t.parentName,o=i(t,["components","mdxType","originalType","parentName"]),k=u(a),N=l,s=k["".concat(m,".").concat(N)]||k[N]||d[N]||r;return a?n.createElement(s,p(p({ref:e},o),{},{components:a})):n.createElement(s,p({ref:e},o))}));function s(t,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=a.length,p=new Array(r);p[0]=N;var i={};for(var m in e)hasOwnProperty.call(e,m)&&(i[m]=e[m]);i.originalType=t,i[k]="string"==typeof t?t:l,p[1]=i;for(var u=2;u<r;u++)p[u]=a[u];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}N.displayName="MDXCreateElement"},1719:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>m,contentTitle:()=>p,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var n=a(7462),l=(a(7294),a(3905));const r={slug:"elasticsearch-basic",title:"ES(ElasticSearch) \u641c\u7d22\u57fa\u672c\u6982\u5ff5\u7b80\u4ecb",authors:["kkdev163"],tags:["\u641c\u7d22","ES"]},p=void 0,i={permalink:"/blog/elasticsearch-basic",source:"@site/blog/2020-04-02-elasticsearch-basic/index.md",title:"ES(ElasticSearch) \u641c\u7d22\u57fa\u672c\u6982\u5ff5\u7b80\u4ecb",description:"\u672c\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u4e86 ES(ElasticSearch) \u641c\u7d22\u76f8\u5173\u7684\u57fa\u672c\u6982\u5ff5",date:"2020-04-02T00:00:00.000Z",formattedDate:"2020\u5e744\u67082\u65e5",tags:[{label:"\u641c\u7d22",permalink:"/blog/tags/\u641c\u7d22"},{label:"ES",permalink:"/blog/tags/es"}],readingTime:5.95,hasTruncateMarker:!0,authors:[{name:"kkdev163",title:"Web \u5168\u6808\u5f00\u53d1\u5de5\u7a0b\u5e08@NetEase",url:"https://kkdev163.github.io",imageURL:"https://github.com/kkdev163.png",key:"kkdev163"}],frontMatter:{slug:"elasticsearch-basic",title:"ES(ElasticSearch) \u641c\u7d22\u57fa\u672c\u6982\u5ff5\u7b80\u4ecb",authors:["kkdev163"],tags:["\u641c\u7d22","ES"]},prevItem:{title:"Corona \u6280\u672f\u4e13\u9898-\u65f6\u5e8f\u6570\u636e\u5206\u6790(\u4e0a)",permalink:"/blog/tsdb-part1"},nextItem:{title:"Lighthous \u6d4b\u8bd5\u5185\u5e55",permalink:"/blog/lighthouse"}},m={authorsImageUrls:[void 0]},u=[{value:"ES \u7684\u5b58\u50a8\u7c7b\u578b",id:"es-\u7684\u5b58\u50a8\u7c7b\u578b",level:3},{value:"ES \u7684\u641c\u7d22",id:"es-\u7684\u641c\u7d22",level:3},{value:"\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22",id:"\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22",level:4},{value:"DEMO \u4e3e\u4f8b",id:"demo-\u4e3e\u4f8b",level:5},{value:"\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22",id:"\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22",level:4},{value:"DEMO",id:"demo",level:5},{value:"match \u4e3e\u4f8b",id:"match-\u4e3e\u4f8b",level:6},{value:"match_phrase \u4e3e\u4f8b",id:"match_phrase-\u4e3e\u4f8b",level:5},{value:"\u590d\u5408\u67e5\u8be2",id:"\u590d\u5408\u67e5\u8be2",level:3}],o={toc:u},k="wrapper";function d(t){let{components:e,...a}=t;return(0,l.kt)(k,(0,n.Z)({},o,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"\u672c\u7bc7\u6587\u7ae0\u4ecb\u7ecd\u4e86 ES(ElasticSearch) \u641c\u7d22\u76f8\u5173\u7684\u57fa\u672c\u6982\u5ff5"),(0,l.kt)("h3",{id:"es-\u7684\u5b58\u50a8\u7c7b\u578b"},"ES \u7684\u5b58\u50a8\u7c7b\u578b"),(0,l.kt)("p",null,"ES \u7684\u5b58\u50a8\u7c7b\u578b\u5927\u81f4\u5206\u4e3a\u4e24\u7c7b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7ed3\u6784\u5316\u6570\u636e \u7c7b\u578b\u4e3a keyword\u3001date\u3001long\u3001boolean \u7b49"),(0,l.kt)("li",{parentName:"ul"},"\u6587\u672c\u6570\u636e \u7c7b\u578b\u4e3a text")),(0,l.kt)("p",null,"\u5b58\u50a8\u7d22\u5f15\u5efa\u7acb\u89c4\u5219\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"ES \u5728\u5b58\u50a8\u7ed3\u6784\u5316\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u4f1a\u5c06\u6570\u636e\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u5efa\u7acb\u5012\u6392\u7d22\u5f15\u3002"),(0,l.kt)("li",{parentName:"ul"},"ES \u5728\u5b58\u50a8\u6587\u672c\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u4f1a\u5c06\u6587\u672c\u5148\u8fdb\u884c\u5206\u8bcd\u5904\u7406\uff0c\u7136\u540e\u6309\u5404\u4e2a\u5355\u72ec\u7684\u8bcd\u9879\u5efa\u7acb\u5012\u6392\u7d22\u5f15\u3002")),(0,l.kt)("p",null,"\u4e3e\u4f8b\u6765\u8bf4\uff1a"),(0,l.kt)("p",null,"\u5047\u8bbe\u7d22\u5f15\u5b57\u6bb5\u7684\u5b9a\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5\u7c7b\u578b"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"appName"),(0,l.kt)("td",{parentName:"tr",align:null},"keyword")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"text")))),(0,l.kt)("p",null,"\u5f53\u63d2\u5165\u4ee5\u4e0b\u4e24\u6761\u6570\u636e\u65f6"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"id"),(0,l.kt)("th",{parentName:"tr",align:null},"appName"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store is Awesome")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"Apple Store"),(0,l.kt)("td",{parentName:"tr",align:null},"Store Sell Apple Pie")))),(0,l.kt)("p",null,"ES \u4f1a\u4e3a appName \u5b57\u6bb5\u5efa\u7acb\u5982\u4e0b\u7684\u5012\u6392\u7d22\u5f15\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7d22\u5f15"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6587\u6863 id"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"App Store"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Apple Store"),(0,l.kt)("td",{parentName:"tr",align:null},"2")))),(0,l.kt)("p",null,"ES \u4f1a\u4e3a description \u5b57\u6bb5\u5efa\u7acb\u5982\u4e0b\u7684\u5012\u6392\u7d22\u5f15\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7d22\u5f15"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6587\u6863 id"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"app"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"store"),(0,l.kt)("td",{parentName:"tr",align:null},"1, 2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"awesome"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sell"),(0,l.kt)("td",{parentName:"tr",align:null},"2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"apple"),(0,l.kt)("td",{parentName:"tr",align:null},"2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pie"),(0,l.kt)("td",{parentName:"tr",align:null},"2")))),(0,l.kt)("p",null,"\u6ce8\uff1a\u901a\u7528\u5206\u8bcd\u5668\u4f1a\u5c06\u8bcd\u9879\u8f6c\u4e3a\u5c0f\u5199"),(0,l.kt)("h3",{id:"es-\u7684\u641c\u7d22"},"ES \u7684\u641c\u7d22"),(0,l.kt)("p",null,"ES \u7684\u641c\u7d22\u5206\u4e3a\u4e24\u5927\u7c7b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22(Term \u641c\u7d22)"),(0,l.kt)("li",{parentName:"ul"},"\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22")),(0,l.kt)("h4",{id:"\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22"},"\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22"),(0,l.kt)("p",null,"\u5728\u8fdb\u884c\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22\uff0c\u641c\u7d22\u8bcd \u4e0e \u6587\u6863\u5b57\u6bb5\u9700\u5b8c\u5168\u5339\u914d\u3002"),(0,l.kt)("p",null,"ES \u63d0\u4f9b\u4e86\u4e94\u79cd\u57fa\u4e8e\u8bcd\u9879\u7684\u641c\u7d22\u65b9\u6cd5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"term"),(0,l.kt)("li",{parentName:"ul"},"range"),(0,l.kt)("li",{parentName:"ul"},"exists"),(0,l.kt)("li",{parentName:"ul"},"prefix"),(0,l.kt)("li",{parentName:"ul"},"wildcard")),(0,l.kt)("h5",{id:"demo-\u4e3e\u4f8b"},"DEMO \u4e3e\u4f8b"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"id"),(0,l.kt)("th",{parentName:"tr",align:null},"appName"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store is Awesome")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"Apple Store"),(0,l.kt)("td",{parentName:"tr",align:null},"Store Sell Apple Pie")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "query": {\n        "term": {\n            "appName": "App Store" // \u53ef\u641c\u7d22\u5230\n            // "appName": "App"  // \u65e0\u6cd5\u641c\u7d22\u5230\n        }\n    }\n}\n')),(0,l.kt)("h4",{id:"\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22"},"\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22"),(0,l.kt)("p",null,"ES \u4e3b\u8981\u63d0\u4f9b\u4e86\u4e24\u79cd\u57fa\u4e8e\u5168\u6587\u7684\u641c\u7d22\u65b9\u6cd5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"match"),(0,l.kt)("li",{parentName:"ul"},"match_phrase")),(0,l.kt)("p",null,"\u5728\u8fdb\u884c match \u641c\u7d22\u65f6\uff0cES \u4f1a\u5148\u5c06\u67e5\u8be2\u5b57\u7b26\u4e32\u8fdb\u884c\u5206\u8bcd\uff0c\u7136\u540e\u5c06\u6bcf\u4e2a\u8bcd\u9879\u4e0e\u5012\u6392\u7d22\u5f15\u8fdb\u884c\u5339\u914d\uff0c\u4efb\u610f\u4e00\u4e2a\u8bcd\u9879\u5339\u914d\u5230\uff0c\u5373\u641c\u7d22\u6210\u529f\u3002"),(0,l.kt)("p",null,"\u5728\u8fdb\u884c match_phrase \u641c\u7d22\u65f6\uff0cES \u5c06\u67e5\u8be2\u5b57\u7b26\u4e32\u770b\u4f5c\u4e00\u4e2a\u6574\u4f53\uff0c\u53ea\u6709\u6587\u6863\u4e2d\u5305\u542b\u8be5\u77ed\u8bed\u5b57\u7b26\u4e32\u65f6\uff0c\u624d\u641c\u7d22\u6210\u529f\u3002"),(0,l.kt)("h5",{id:"demo"},"DEMO"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"id"),(0,l.kt)("th",{parentName:"tr",align:null},"appName"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store"),(0,l.kt)("td",{parentName:"tr",align:null},"App Store is Awesome")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"Apple Store"),(0,l.kt)("td",{parentName:"tr",align:null},"Store Sell Apple Pie")))),(0,l.kt)("p",null,"ES \u4f1a\u4e3a description \u5b57\u6bb5\u5efa\u7acb\u5982\u4e0b\u7684\u5012\u6392\u7d22\u5f15\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7d22\u5f15"),(0,l.kt)("th",{parentName:"tr",align:null},"\u6587\u6863 id"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"app"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"store"),(0,l.kt)("td",{parentName:"tr",align:null},"1, 2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"awesome"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sell"),(0,l.kt)("td",{parentName:"tr",align:null},"2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"apple"),(0,l.kt)("td",{parentName:"tr",align:null},"2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pie"),(0,l.kt)("td",{parentName:"tr",align:null},"2")))),(0,l.kt)("h6",{id:"match-\u4e3e\u4f8b"},"match \u4e3e\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "query": {\n        "match": {\n            "description": "App" // \u53ef\u4ee5\u641c\u5230\u6587\u68631\n          //"description": "App Store"  // \u53ef\u4ee5\u641c\u7d22\u5230\u6587\u68631\uff0c2 (\u4f1a\u5148\u5c06App Store\u5206\u8bcd, \u901a\u8fc7 Store \u641c\u5230\u4e86\u6587\u68632)\n          //"description": "App Awesome"  // \u53ef\u4ee5\u641c\u7d22\u5230\u6587\u68631 (\u8fd8\u662f\u8fdb\u884c\u4e86\u5206\u8bcd)\n        }\n    }\n}\n')),(0,l.kt)("h5",{id:"match_phrase-\u4e3e\u4f8b"},"match_phrase \u4e3e\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "query": {\n        "match_phrase": {\n            "description": "App" // \u641c\u5230\u6587\u68631\n          //"description": "App Store"  // \u641c\u7d22\u6587\u68631 (App Store\u662f\u4e00\u4e2a\u6574\u4f53)\n          //"description": "App Awesome"  // \u65e0\u6cd5\u67e5\u5230 (App Awesome\u662f\u4e00\u4e2a\u6574\u4f53)\n        }\n    }\n}\n')),(0,l.kt)("h3",{id:"\u590d\u5408\u67e5\u8be2"},"\u590d\u5408\u67e5\u8be2"),(0,l.kt)("p",null,"\u4ee5\u4e0a\u4e3a\u5355\u6761\u4ef6\u67e5\u8be2\uff0c\u4f46\u901a\u5e38\u4e1a\u52a1\u4e0a\u9700\u8981\u57fa\u4e8e\u591a\u4e2a\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\uff0cES \u63d0\u4f9b\u4e86 bool \u590d\u5408\u67e5\u8be2\uff0c\u8be5\u67e5\u8be2\u53ef\u4ee5\u5305\u542b 4 \u4e2a\u67e5\u8be2\u5b57\u53e5\uff0c\u5206\u522b\u662f"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"must \u5fc5\u987b\u5168\u90e8\u7b26\u5408\u8be5\u6761\u4ef6\u3002\u8d21\u732e\u7b97\u5206(\u7b97\u5206\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u641c\u7d22\u7684\u5339\u914d\u5ea6)"),(0,l.kt)("li",{parentName:"ul"},"should \u7b26\u5408\u6761\u4ef6\u4e4b\u4e00\u5373\u53ef\u3002 \u8d21\u732e\u7b97\u5206"),(0,l.kt)("li",{parentName:"ul"},"must_not \u5fc5\u987b\u4e0d\u7b26\u5408\u8be5\u6761\u4ef6\u3002 \u4e0d\u8d21\u732e\u7b97\u5206\uff0c\u6709\u7f13\u5b58\u4f18\u5316"),(0,l.kt)("li",{parentName:"ul"},"filter \u5fc5\u987b\u7b26\u5408\u8be5\u6761\u4ef6\u3002\u4e0d\u8d21\u732e\u7b97\u5206\uff0c\u6709\u7f13\u5b58\u4f18\u5316")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "query": {\n        "bool": {\n            "must": [{  // \u590d\u5408\u67e5\u8be2\u5b50\u53e5\n                "term": {  // \u57fa\u4e8e\u8bcd\u9879\u641c\u7d22\n                    "appName": "App Store"\n                }\n            }, {\n                "range": { // \u57fa\u4e8e\u8bcd\u9879\u7684\u8303\u56f4\u641c\u7d22\n                    "time": {\n                        "lgt": "2019-01-01"\n                    }\n                }\n            }, {\n                "wildcard": { // \u57fa\u4e8e\u8bcd\u9879\u7684\u901a\u914d\u7b26\u641c\u7d22\n                    "appName": "* Store"\n                }\n            }, {\n                "match": { // \u57fa\u4e8e\u5168\u6587\u7684 match \u641c\u7d22\n                    "description": "App Store"\n                }\n            }, {\n                "match_phrase": { // \u57fa\u4e8e\u5168\u6587\u7684 match_phrase \u641c\u7d22\n                    "description": "App Store"\n                }\n            }]\n            "should": [{  // \u590d\u5408\u67e5\u8be2\u5b50\u53e5\n                ...\n            }],\n            "must_not": [{ // \u590d\u5408\u67e5\u8be2\u5b50\u53e5\n                ...\n            }],\n            "filter": [{ // \u590d\u5408\u67e5\u8be2\u5b50\u53e5\n                ...\n            }]\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5728\u4e0d\u9700\u8981\u7b97\u5206\u7684\u573a\u666f\u4e0b\uff0c\u5efa\u8bae\u4f7f\u7528 filter \u548c must_not, \u56e0\u4e3a\u4e0d\u9700\u8981\u8fdb\u884c\u7b97\u5206\uff0cES \u4f1a\u6709\u7f13\u5b58\u4f18\u5316\u3002"),(0,l.kt)("p",null,"\u53e6\u5916\u6bcf\u4e00\u4e2a\u67e5\u8be2\u5b57\u53e5\uff0c\u53ef\u4ee5\u7ee7\u7eed\u5d4c\u5957 bool \u67e5\u8be2\u3002\u793a\u610f\u5982\u4e0b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "query": {\n        "bool": {\n            "must": [{\n                "bool": {\n                    "must":{...},\n                    "should": {...},\n                }\n            }]\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u7531\u4e8e\u590d\u5408\u67e5\u8be2\u7684 body \u6784\u9020\u8f83\u4e3a\u7e41\u590d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/danpaz/bodybuilder"},"bodybuilder")," \u6765\u7b80\u5316\u8fd9\u4e00\u8fc7\u7a0b\u3002"),(0,l.kt)("p",null,"\u793a\u610f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"var body = bodybuilder().query('match', 'message', 'this is a test').build()\n// body == {\n//   query: {\n//     match: {\n//       message: 'this is a test'\n//     }\n//   }\n// }\n")),(0,l.kt)("p",null,"\u8be6\u7ec6",(0,l.kt)("a",{parentName:"p",href:"https://bodybuilder.js.org/docs/"},"API \u6587\u6863")))}d.isMDXComponent=!0}}]);